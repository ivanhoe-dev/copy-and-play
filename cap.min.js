"use strict";var INPUT={TEXT:"<input>",TEXTAREA:"<textarea>"},TAG={BR:"<br>",DIV:"<div>"},INPUT_CLASS_NAME="copyTextInput",SUCCESS_MSG_ID="copySuccessMsg";class cap{static init(e){this.default={input:{visible:!1,type:INPUT.TEXTAREA},successMessage:{enable:!0,text:"Copied to clipboard",position:null,timeout:1e3},lineBreak:!0,onReady:null,onSuccess:null},this.options=$.extend(!0,{},this.default,e)}static copy(e,t){t&&(this.options=$.extend(!0,{},this.default,t)),this.options.onReady&&this.options.onReady(),this.removeElem("."+INPUT_CLASS_NAME),navigator.userAgent.match(/ipad|ipod|iphone/i)?this.iosCopy(this.createTextInput(e)):this.createTextInput(e)[0].select(),document.execCommand("copy"),this.options.input.visible||this.removeElem("."+INPUT_CLASS_NAME),this.options.successMessage.enable&&this.generateSuccessMsg(e),this.options.onSuccess&&this.options.onSuccess()}static iosCopy(e){var t=e;t.val();var s=t.get(0),i=s.contentEditable,n=s.readOnly;s.contentEditable=!0,s.readOnly=!1;var o=document.createRange();o.selectNodeContents(s);var a=window.getSelection();a.removeAllRanges(),a.addRange(o),s.setSelectionRange(0,999999),s.contentEditable=i,s.readOnly=n}static removeElem(e){var t=$(e);t&&t.remove()}static createTextInput(e){var t=$(e)[0],s=this.options.lineBreak?$(INPUT.TEXTAREA):$(this.options.input.type);return s.val(this.options.lineBreak?this.parseLineBreak(t.innerHTML):t.innerHTML),s.addClass(INPUT_CLASS_NAME),t.append(s[0]),s}static parseLineBreak(e){var t=new RegExp(TAG.BR,"g");return e.replace(t,"\r")}static generateSuccessMsg(e){this.removeElem("#"+SUCCESS_MSG_ID);var t=$(TAG.DIV);t.attr("id",SUCCESS_MSG_ID),t.text(this.options.successMessage.text),$(null!=this.options.successMessage.position?this.options.successMessage.position:e).after(t[0]),this.options.successMessage.timeout>-1&&setTimeout(function(){t.remove()},this.options.successMessage.timeout)}}